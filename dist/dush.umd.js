!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.dush=e()}(this,function(){return function(){var n={_allEvents:Object.create(null),use:function(e,t){return e(n,t)||n},on:function(e,t,l){function r(){r.called||(n.off(e,r),t.apply(t,arguments),r.called=!0)}var u=n._allEvents[e]||(n._allEvents[e]=[]),o=l?r:t;return o.__sourceString=t.toString(),u.push(o),n},once:function(e,t){return n.on(e,t,!0),n},off:function(e,t){if(t&&n._allEvents[e]){var l=t.toString();n._allEvents[e]=n._allEvents[e].filter(function(n){return n.__sourceString!==l})}else e?n._allEvents[e]=[]:n._allEvents=Object.create(null);return n},emit:function(e){if("*"!==e){var t=[].slice.call(arguments);(n._allEvents[e]||[]).map(function(n){n.apply(n,t.slice(1))}),(n._allEvents["*"]||[]).map(function(n){n.apply(n,t)})}return n}};return n}});
//# sourceMappingURL=dush.umd.js.map
